@model GameStore.Web.Models.GameViewModel

@{
	ViewBag.Title = "New Game";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>New Game</h1>

@using (Html.BeginForm("New", "Game", FormMethod.Post))
{
	<b>@Html.LabelFor(m => m.Key)</b>
	<p>@Html.EditorFor(m => m.Key)</p>
	<b>@Html.LabelFor(m => m.Name)</b>
	<p>
		@Html.EditorFor(m => m.Name)
		@Html.ValidationMessageFor(m => m.Name)
	</p>
	<b>@Html.LabelFor(m => m.Description)</b>
	<p>
		@Html.EditorFor(m => m.Description)
		@Html.ValidationMessageFor(m => m.Description)
	</p>
	<b>@Html.LabelFor(m => m.Price)</b>
	<p>
		@Html.EditorFor(m => m.Price)
		@Html.ValidationMessageFor(m => m.Price)
	</p>
	<b>@Html.LabelFor(m => m.PlatformTypesInput)</b>
	<p>
		@Html.ListBoxFor(m => m.PlatformTypesInput, new SelectList(Model.PlatformTypesData, "Id", "Type"))
		@Html.ValidationMessageFor(m => m.PlatformTypesInput)
	</p>
	<b>@Html.LabelFor(m => m.GenresInput)</b>
	<p>
		@Html.ListBoxFor(m => m.GenresInput, new SelectList(Model.GenresData, "Id", "Name"))
		@Html.ValidationMessageFor(m => m.GenresInput)
	</p>
	<b>@Html.LabelFor(m => m.PublisherInput)</b>
	<p>
		@Html.DropDownListFor(m => m.PublisherInput, new SelectList(Model.PublishersData, "Id", "CompanyName"))
		@Html.ValidationMessageFor(m => m.PublisherInput)
	</p>
	for (var i = 0; i < Model.PlatformTypesData.Count; i++)
	{
		@Html.HiddenFor(m => m.PlatformTypesData[i].Id)
		@Html.HiddenFor(m => m.PlatformTypesData[i].Type)
	}

	for (var i = 0; i < Model.GenresData.Count; i++)
	{
		@Html.HiddenFor(m => m.GenresData[i].Id)
		@Html.HiddenFor(m => m.GenresData[i].Name)
	}

	for (var i = 0; i < Model.PublishersData.Count; i++)
	{
		@Html.HiddenFor(m => m.PublishersData[i].Id)
		@Html.HiddenFor(m => m.PublishersData[i].CompanyName)
		@Html.HiddenFor(m => m.PublishersData[i].Description)
		@Html.HiddenFor(m => m.PublishersData[i].HomePage)
	}

	<p><button type="submit">Create</button></p>
}